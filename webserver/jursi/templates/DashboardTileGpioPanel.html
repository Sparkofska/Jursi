{% extends "DashboardTilePanel.html" %}

{% block contextual_alternative %}default{% endblock %}

{% block tile_heading_title %} GPIO {% endblock %}

{% block tile_heading_right %}
	<span class="glyphicon glyphicon-wrench"></span>
{% endblock %}

{% block tile_body_content %}
	DO we need some Text here?.
{% endblock %}

{% block tile_body_action %}
{% endblock %}

{% block tile_additional_body %}

<script type=text/javascript>  
  function go(id) {
	  $.getJSON($SCRIPT_ROOT + '/gpio', {
		  key: 'switch',
		  which: id
	  }, function(data) {
		  if(data.status === 'high'){
			  $('#' + id + ' span').addClass('glyphicon-check').removeClass('glyphicon-unchecked');
		  }
		  else if(data.status === 'low'){
			  $('#' + id + ' span').addClass('glyphicon-unchecked').removeClass('glyphicon-check'); 
		  }
	  });
  };
</script>

	<div class="list-group">
	
	  <div class="list-group-item">
	  	<button id="light_chain" class="btn btn-primary" type="button" onclick="go('light_chain')">
			<span class="glyphicon glyphicon-unchecked"></span>
		</button>
	  	<strong> Light Chain</strong>
	  </div>
	  
	  <div class="list-group-item">
	  	<button id="floor_lamp" class="btn btn-primary" type="button" onclick="go('floor_lamp')">
			<span class="glyphicon glyphicon-unchecked"></span>
		</button>
	  	<strong> Floor Lamp</strong>
	  </div>
	  
	</div>

{% endblock %}

